<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mul.camp.a.dao.BbsDao">
	<select id="getBbsList" resultType="mul.camp.a.dto.BbsDto">
		SELECT * FROM TESTBBS
		ORDER BY REF DESC, STEP ASC
	</select>
	<insert id="bbsWrite" parameterType="mul.camp.a.dto.BbsDto">
		INSERT INTO TESTBBS(SEQ, REF, STEP, DEPTH,
							ID, TITLE, CONTENT, WDATE, DEL, READCOUNT)
		VALUES(SEQ_TESTBBS.NEXTVAL, (SELECT NVL(MAX(REF)+1, 0) FROM TESTBBS), 0, 0,
				#{id}, #{title}, #{content}, SYSDATE, 0, 0)
	</insert>
</mapper>